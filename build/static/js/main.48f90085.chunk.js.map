{"version":3,"sources":["wikiLogo.png","Wiki.jsx","Home.jsx","App.js","index.js"],"names":["module","exports","Wiki","title","about","link","Card","style","maxWidth","CardContent","Typography","gutterBottom","variant","component","includes","replace","color","CardActions","Button","size","href","Home","props","_search","query","setState","wiki","queryArray","split","i","length","toUpperCase","slice","toLowerCase","console","log","fetch","then","response","ok","border","errorMessage","text","data","doc","DOMParser","parseFromString","_getElementByXpath","catch","error","state","value","path","evaluate","XPathResult","STRING_TYPE","stringValue","Fragment","this","display","flexDirection","justifyContent","alignItems","height","padding","src","wikiLogo","alt","width","onChange","newValue","onRequestSearch","onCancelSearch","margin","paddingTop","textAlign","React","Component","App","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48f90085.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wikiLogo.263e4ab3.png\";","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport const Wiki = ({ title, about, link }) => {\n  if (about != null && about != \"\") {\n    return (\n      <Card style={{ maxWidth: \"345\" }}>\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {title.includes(\"_\") ? title.replace(\"_\", \" \") : title}\n          </Typography>\n          <Typography variant=\"body\" color=\"textSecondary\" component=\"p\">\n            {about}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button size=\"medium\" color=\"primary\">\n            <a href={link}>Wiki</a>\n          </Button>\n          <Typography variant=\"body\" color=\"textSecondary\" component=\"p\">\n            <div>\n              <p>\n                Created on: 2017-05 from the{\" \"}\n                <a href=\"http://wiki.kiwix.org/wiki/Content_in_all_languages\">\n                  kiwix ZIM file\n                </a>\n              </p>\n            </div>\n          </Typography>\n        </CardActions>\n      </Card>\n    );\n  } else {\n    return <div></div>; \n  }\n};","import React from \"react\";\nimport SearchBar from \"material-ui-search-bar\";\nimport wikiLogo from \"./wikiLogo.png\";\n\nimport { Wiki } from \"./Wiki\"\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: null,\n      wiki: null,\n      title: null,\n      border: null,\n      errorMessage: null\n    };\n  }\n\n  _search = (query) => {\n    this.setState({\n      wiki: null,\n      title: null,\n    });\n    var queryArray = [];\n    if (query.includes(\" \")) {\n      queryArray = query.split(\" \");\n      query = \"\";\n      for (var i = 0; i < queryArray.length; i++) {\n        queryArray[i] =\n          queryArray[i][0].toUpperCase() + queryArray[i].slice(1).toLowerCase();\n        if (i < queryArray.length - 1) {\n          query += queryArray[i] + \"_\";\n        } else {\n          query += queryArray[i];\n        }\n      }\n      console.log(query);\n    }\n    fetch(\"https://en.wikipedia-on-ipfs.org/wiki/\" + query + \".html\")\n      .then(response => {\n        if (response.ok) {\n          return response\n        } else {\n          this.setState({\n            border: \"2px solid red\",\n            errorMessage: \"Either loading or could not find \" + query\n          })\n        }\n      })\n      .then(response => response.text())\n      .then(data => {\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(data, \"text/html\");\n        var wiki = this._getElementByXpath(doc, \"/html/body/div[1]/div/p[2]\")\n        console.log(wiki)\n        this.setState({\n          wiki: wiki,\n          title: query\n        });\n      })\n      .catch(error => console.error(error));\n  }\n\n  _getElementByXpath(doc, path) {\n    return doc.evaluate(path, doc, null, XPathResult.STRING_TYPE, null)\n      .stringValue;\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.wiki === null ? (\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              height: \"80vh\"\n            }}\n          >\n            <div style={{ padding: \"2em\" }}>\n              <h1>Search the Distributed Wikipedia</h1>\n              <img src={wikiLogo} alt=\"Wiki_Logo\" style={{ height: \"10rem\" }} />\n            </div>\n            <SearchBar\n              style={{ width: \"50%\", border: this.state.border }}\n              value={this.state.value}\n              onChange={newValue => this.setState({ value: newValue })}\n              onRequestSearch={() => this._search(this.state.value)}\n              onCancelSearch={() => this.setState({ value: \"\" })}\n            />\n            <h5 style={{ padding: 0, margin: 0, paddingTop: \"1em\" }}>{this.state.errorMessage}</h5>\n            <h5>\n              Running your own{\" \"}\n              <a href=\"https://docs.ipfs.io/introduction/usage/\">IPFS node</a>{\" \"}\n              will speed up your search and distribute content\n            </h5>\n          </div>\n        ) : (\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              padding: \"2em\"\n            }}\n          >\n            <h1>Search the Distributed Wikipedia</h1>\n            <SearchBar\n              style={{ width: \"60%\" }}\n              value={this.state.value}\n              onChange={newValue => this.setState({ value: newValue })}\n              onRequestSearch={() => this._search(this.state.value)}\n              onCancelSearch={() => this.setState({ value: null, border: null, errorMessage: null })}\n            />\n          </div>\n        )}\n        <div\n          style={{\n            textAlign: \"left\",\n            padding: \"2em\"\n          }}\n        >\n          <div>\n            <Wiki\n              title={this.state.title}\n              about={this.state.wiki}\n              link={\n                \"https://en.wikipedia-on-ipfs.org/wiki/\" +\n                this.state.title +\n                \".html\"\n              }\n            />\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          <a\n            style={{ padding: \"0.75em\" }}\n            href=\"https://en.wikipedia-on-ipfs.org/\"\n          >\n            IPFS Wiki\n          </a>\n          <a\n            style={{ padding: \"0.75em\" }}\n            href=\"https://github.com/Lucas-Kohorst/ipfs-wiki\"\n          >\n            Code\n          </a>\n          <a\n            style={{ padding: \"0.75em\" }}\n            href=\"mailto: kohorstlucas@gmail.com\"\n          >\n            Contact\n          </a>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport { Home };\n","import React from 'react';\nimport './App.css';\nimport { Home } from './Home'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render( < App / > , document.getElementById('root'));"],"sourceRoot":""}