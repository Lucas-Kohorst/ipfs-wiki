{"ast":null,"code":"import _classCallCheck from\"/Users/lucaskohorst/Desktop/GitHub/ipfs-wiki-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lucaskohorst/Desktop/GitHub/ipfs-wiki-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/lucaskohorst/Desktop/GitHub/ipfs-wiki-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/lucaskohorst/Desktop/GitHub/ipfs-wiki-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/lucaskohorst/Desktop/GitHub/ipfs-wiki-search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import SearchBar from\"material-ui-search-bar\";import wikiLogo from\"./wikiLogo.png\";import{Wiki}from\"./Wiki\";var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this._search=function(query){_this.setState({wiki:null,title:null});var queryArray=[];if(query.includes(\" \")){queryArray=query.split(\" \");query=\"\";for(var i=0;i<queryArray.length;i++){queryArray[i]=queryArray[i][0].toUpperCase()+queryArray[i].slice(1).toLowerCase();if(i<queryArray.length-1){query+=queryArray[i]+\"_\";}else{query+=queryArray[i];}}console.log(query);}fetch(\"https://en.wikipedia-on-ipfs.org/wiki/\"+query+\".html\").then(function(response){if(response.ok){return response;}else{_this.setState({border:\"2px solid red\",errorMessage:\"Could not find \"+query});}}).then(function(response){return response.text();}).then(function(data){var parser=new DOMParser();var doc=parser.parseFromString(data,\"text/html\");var wiki=_this._getElementByXpath(doc,\"/html/body/div[1]/div/p[2]\");console.log(wiki);_this.setState({wiki:wiki,title:query});}).catch(function(error){return console.error(error);});};_this.state={value:null,wiki:null,title:null,border:null,errorMessage:null};return _this;}_createClass(Home,[{key:\"_getElementByXpath\",value:function _getElementByXpath(doc,path){return doc.evaluate(path,doc,null,XPathResult.STRING_TYPE,null).stringValue;}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,this.state.wiki===null?React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",height:\"80vh\"}},React.createElement(\"div\",{style:{padding:\"2em\"}},React.createElement(\"h1\",null,\"Search the Distributed Wikipedia\"),React.createElement(\"img\",{src:wikiLogo,alt:\"Wiki_Logo\",style:{height:\"10rem\"}})),React.createElement(SearchBar,{style:{width:\"50%\",border:this.state.border},value:this.state.value,onChange:function onChange(newValue){return _this2.setState({value:newValue});},onRequestSearch:function onRequestSearch(){return _this2._search(_this2.state.value);},onCancelSearch:function onCancelSearch(){return _this2.setState({value:\"\"});}}),React.createElement(\"h5\",{style:{padding:0,margin:0,paddingTop:\"1em\"}},this.state.errorMessage),React.createElement(\"h5\",null,\"Running your own\",\" \",React.createElement(\"a\",{href:\"https://docs.ipfs.io/introduction/usage/\"},\"IPFS node\"),\" \",\"will speed up your search and distribute content\")):React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",padding:\"2em\"}},React.createElement(\"h1\",null,\"Search the Distributed Wikipedia\"),React.createElement(SearchBar,{style:{width:\"60%\"},value:this.state.value,onChange:function onChange(newValue){return _this2.setState({value:newValue});},onRequestSearch:function onRequestSearch(){return _this2._search(_this2.state.value);},onCancelSearch:function onCancelSearch(){return _this2.setState({value:null,border:null,errorMessage:null});}})),React.createElement(\"div\",{style:{textAlign:\"left\",padding:\"2em\"}},React.createElement(\"div\",null,React.createElement(Wiki,{title:this.state.title,about:this.state.wiki,link:\"https://en.wikipedia-on-ipfs.org/wiki/\"+this.state.title+\".html\"}))),React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}},React.createElement(\"a\",{style:{padding:\"0.75em\"},href:\"https://en.wikipedia-on-ipfs.org/\"},\"IPFS Wiki\"),React.createElement(\"a\",{style:{padding:\"0.75em\"},href:\"https://github.com/Lucas-Kohorst/ipfs-wiki\"},\"Code\"),React.createElement(\"a\",{style:{padding:\"0.75em\"},href:\"mailto: kohorstlucas@gmail.com\"},\"Contact\")));}}]);return Home;}(React.Component);export{Home};","map":{"version":3,"sources":["/Users/lucaskohorst/Desktop/GitHub/ipfs-wiki-search/src/Home.jsx"],"names":["React","SearchBar","wikiLogo","Wiki","Home","props","_search","query","setState","wiki","title","queryArray","includes","split","i","length","toUpperCase","slice","toLowerCase","console","log","fetch","then","response","ok","border","errorMessage","text","data","parser","DOMParser","doc","parseFromString","_getElementByXpath","catch","error","state","value","path","evaluate","XPathResult","STRING_TYPE","stringValue","display","flexDirection","justifyContent","alignItems","height","padding","width","newValue","margin","paddingTop","textAlign","Component"],"mappings":"g2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CAEA,OAASC,IAAT,KAAqB,QAArB,C,GAEMC,CAAAA,I,0EACJ,cAAYC,KAAZ,CAAmB,sCACjB,sEAAMA,KAAN,GADiB,MAWnBC,OAXmB,CAWT,SAACC,KAAD,CAAW,CACnB,MAAKC,QAAL,CAAc,CACZC,IAAI,CAAE,IADM,CAEZC,KAAK,CAAE,IAFK,CAAd,EAIA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIJ,KAAK,CAACK,QAAN,CAAe,GAAf,CAAJ,CAAyB,CACvBD,UAAU,CAAGJ,KAAK,CAACM,KAAN,CAAY,GAAZ,CAAb,CACAN,KAAK,CAAG,EAAR,CACA,IAAK,GAAIO,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGH,UAAU,CAACI,MAA/B,CAAuCD,CAAC,EAAxC,CAA4C,CAC1CH,UAAU,CAACG,CAAD,CAAV,CACEH,UAAU,CAACG,CAAD,CAAV,CAAc,CAAd,EAAiBE,WAAjB,GAAiCL,UAAU,CAACG,CAAD,CAAV,CAAcG,KAAd,CAAoB,CAApB,EAAuBC,WAAvB,EADnC,CAEA,GAAIJ,CAAC,CAAGH,UAAU,CAACI,MAAX,CAAoB,CAA5B,CAA+B,CAC7BR,KAAK,EAAII,UAAU,CAACG,CAAD,CAAV,CAAgB,GAAzB,CACD,CAFD,IAEO,CACLP,KAAK,EAAII,UAAU,CAACG,CAAD,CAAnB,CACD,CACF,CACDK,OAAO,CAACC,GAAR,CAAYb,KAAZ,EACD,CACDc,KAAK,CAAC,yCAA2Cd,KAA3C,CAAmD,OAApD,CAAL,CACGe,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,EAAb,CAAiB,CACf,MAAOD,CAAAA,QAAP,CACD,CAFD,IAEO,CACL,MAAKf,QAAL,CAAc,CACZiB,MAAM,CAAE,eADI,CAEZC,YAAY,CAAE,kBAAoBnB,KAFtB,CAAd,EAID,CACF,CAVH,EAWGe,IAXH,CAWQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACI,IAAT,EAAJ,EAXhB,EAYGL,IAZH,CAYQ,SAAAM,IAAI,CAAI,CACZ,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,SAAJ,EAAb,CACA,GAAIC,CAAAA,GAAG,CAAGF,MAAM,CAACG,eAAP,CAAuBJ,IAAvB,CAA6B,WAA7B,CAAV,CACA,GAAInB,CAAAA,IAAI,CAAG,MAAKwB,kBAAL,CAAwBF,GAAxB,CAA6B,4BAA7B,CAAX,CACAZ,OAAO,CAACC,GAAR,CAAYX,IAAZ,EACA,MAAKD,QAAL,CAAc,CACZC,IAAI,CAAEA,IADM,CAEZC,KAAK,CAAEH,KAFK,CAAd,EAID,CArBH,EAsBG2B,KAtBH,CAsBS,SAAAC,KAAK,QAAIhB,CAAAA,OAAO,CAACgB,KAAR,CAAcA,KAAd,CAAJ,EAtBd,EAuBD,CAtDkB,CAEjB,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,IADI,CAEX5B,IAAI,CAAE,IAFK,CAGXC,KAAK,CAAE,IAHI,CAIXe,MAAM,CAAE,IAJG,CAKXC,YAAY,CAAE,IALH,CAAb,CAFiB,aASlB,C,+EA+CkBK,G,CAAKO,I,CAAM,CAC5B,MAAOP,CAAAA,GAAG,CAACQ,QAAJ,CAAaD,IAAb,CAAmBP,GAAnB,CAAwB,IAAxB,CAA8BS,WAAW,CAACC,WAA1C,CAAuD,IAAvD,EACJC,WADH,CAED,C,uCAEQ,iBACP,MACE,qBAAC,KAAD,CAAO,QAAP,MACG,KAAKN,KAAL,CAAW3B,IAAX,GAAoB,IAApB,CACC,2BACE,KAAK,CAAE,CACLkC,OAAO,CAAE,MADJ,CAELC,aAAa,CAAE,QAFV,CAGLC,cAAc,CAAE,QAHX,CAILC,UAAU,CAAE,QAJP,CAKLC,MAAM,CAAE,MALH,CADT,EASE,2BAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,KAAX,CAAZ,EACE,iEADF,CAEE,2BAAK,GAAG,CAAE9C,QAAV,CAAoB,GAAG,CAAC,WAAxB,CAAoC,KAAK,CAAE,CAAE6C,MAAM,CAAE,OAAV,CAA3C,EAFF,CATF,CAaE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEE,KAAK,CAAE,KAAT,CAAgBxB,MAAM,CAAE,KAAKW,KAAL,CAAWX,MAAnC,CADT,CAEE,KAAK,CAAE,KAAKW,KAAL,CAAWC,KAFpB,CAGE,QAAQ,CAAE,kBAAAa,QAAQ,QAAI,CAAA,MAAI,CAAC1C,QAAL,CAAc,CAAE6B,KAAK,CAAEa,QAAT,CAAd,CAAJ,EAHpB,CAIE,eAAe,CAAE,iCAAM,CAAA,MAAI,CAAC5C,OAAL,CAAa,MAAI,CAAC8B,KAAL,CAAWC,KAAxB,CAAN,EAJnB,CAKE,cAAc,CAAE,gCAAM,CAAA,MAAI,CAAC7B,QAAL,CAAc,CAAE6B,KAAK,CAAE,EAAT,CAAd,CAAN,EALlB,EAbF,CAoBE,0BAAI,KAAK,CAAE,CAAEW,OAAO,CAAE,CAAX,CAAcG,MAAM,CAAE,CAAtB,CAAyBC,UAAU,CAAE,KAArC,CAAX,EAA0D,KAAKhB,KAAL,CAAWV,YAArE,CApBF,CAqBE,iDACmB,GADnB,CAEE,yBAAG,IAAI,CAAC,0CAAR,cAFF,CAEmE,GAFnE,oDArBF,CADD,CA6BC,2BACE,KAAK,CAAE,CACLiB,OAAO,CAAE,MADJ,CAELC,aAAa,CAAE,QAFV,CAGLC,cAAc,CAAE,QAHX,CAILC,UAAU,CAAE,QAJP,CAKLE,OAAO,CAAE,KALJ,CADT,EASE,iEATF,CAUE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAT,CADT,CAEE,KAAK,CAAE,KAAKb,KAAL,CAAWC,KAFpB,CAGE,QAAQ,CAAE,kBAAAa,QAAQ,QAAI,CAAA,MAAI,CAAC1C,QAAL,CAAc,CAAE6B,KAAK,CAAEa,QAAT,CAAd,CAAJ,EAHpB,CAIE,eAAe,CAAE,iCAAM,CAAA,MAAI,CAAC5C,OAAL,CAAa,MAAI,CAAC8B,KAAL,CAAWC,KAAxB,CAAN,EAJnB,CAKE,cAAc,CAAE,gCAAM,CAAA,MAAI,CAAC7B,QAAL,CAAc,CAAE6B,KAAK,CAAE,IAAT,CAAeZ,MAAM,CAAE,IAAvB,CAA6BC,YAAY,CAAE,IAA3C,CAAd,CAAN,EALlB,EAVF,CA9BJ,CAiDE,2BACE,KAAK,CAAE,CACL2B,SAAS,CAAE,MADN,CAELL,OAAO,CAAE,KAFJ,CADT,EAME,+BACE,oBAAC,IAAD,EACE,KAAK,CAAE,KAAKZ,KAAL,CAAW1B,KADpB,CAEE,KAAK,CAAE,KAAK0B,KAAL,CAAW3B,IAFpB,CAGE,IAAI,CACF,yCACA,KAAK2B,KAAL,CAAW1B,KADX,CAEA,OANJ,EADF,CANF,CAjDF,CAmEE,2BACE,KAAK,CAAE,CACLiC,OAAO,CAAE,MADJ,CAELE,cAAc,CAAE,QAFX,CAGLC,UAAU,CAAE,QAHP,CADT,EAOE,yBACE,KAAK,CAAE,CAAEE,OAAO,CAAE,QAAX,CADT,CAEE,IAAI,CAAC,mCAFP,cAPF,CAaE,yBACE,KAAK,CAAE,CAAEA,OAAO,CAAE,QAAX,CADT,CAEE,IAAI,CAAC,4CAFP,SAbF,CAmBE,yBACE,KAAK,CAAE,CAAEA,OAAO,CAAE,QAAX,CADT,CAEE,IAAI,CAAC,gCAFP,YAnBF,CAnEF,CADF,CAgGD,C,kBA/JgBhD,KAAK,CAACsD,S,EAkKzB,OAASlD,IAAT","sourcesContent":["import React from \"react\";\nimport SearchBar from \"material-ui-search-bar\";\nimport wikiLogo from \"./wikiLogo.png\";\n\nimport { Wiki } from \"./Wiki\"\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: null,\n      wiki: null,\n      title: null,\n      border: null,\n      errorMessage: null\n    };\n  }\n\n  _search = (query) => {\n    this.setState({\n      wiki: null,\n      title: null,\n    });\n    var queryArray = [];\n    if (query.includes(\" \")) {\n      queryArray = query.split(\" \");\n      query = \"\";\n      for (var i = 0; i < queryArray.length; i++) {\n        queryArray[i] =\n          queryArray[i][0].toUpperCase() + queryArray[i].slice(1).toLowerCase();\n        if (i < queryArray.length - 1) {\n          query += queryArray[i] + \"_\";\n        } else {\n          query += queryArray[i];\n        }\n      }\n      console.log(query);\n    }\n    fetch(\"https://en.wikipedia-on-ipfs.org/wiki/\" + query + \".html\")\n      .then(response => {\n        if (response.ok) {\n          return response\n        } else {\n          this.setState({\n            border: \"2px solid red\",\n            errorMessage: \"Could not find \" + query\n          })\n        }\n      })\n      .then(response => response.text())\n      .then(data => {\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(data, \"text/html\");\n        var wiki = this._getElementByXpath(doc, \"/html/body/div[1]/div/p[2]\")\n        console.log(wiki)\n        this.setState({\n          wiki: wiki,\n          title: query\n        });\n      })\n      .catch(error => console.error(error));\n  }\n\n  _getElementByXpath(doc, path) {\n    return doc.evaluate(path, doc, null, XPathResult.STRING_TYPE, null)\n      .stringValue;\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.wiki === null ? (\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              height: \"80vh\"\n            }}\n          >\n            <div style={{ padding: \"2em\" }}>\n              <h1>Search the Distributed Wikipedia</h1>\n              <img src={wikiLogo} alt=\"Wiki_Logo\" style={{ height: \"10rem\" }} />\n            </div>\n            <SearchBar\n              style={{ width: \"50%\", border: this.state.border }}\n              value={this.state.value}\n              onChange={newValue => this.setState({ value: newValue })}\n              onRequestSearch={() => this._search(this.state.value)}\n              onCancelSearch={() => this.setState({ value: \"\" })}\n            />\n            <h5 style={{ padding: 0, margin: 0, paddingTop: \"1em\" }}>{this.state.errorMessage}</h5>\n            <h5>\n              Running your own{\" \"}\n              <a href=\"https://docs.ipfs.io/introduction/usage/\">IPFS node</a>{\" \"}\n              will speed up your search and distribute content\n            </h5>\n          </div>\n        ) : (\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              padding: \"2em\"\n            }}\n          >\n            <h1>Search the Distributed Wikipedia</h1>\n            <SearchBar\n              style={{ width: \"60%\" }}\n              value={this.state.value}\n              onChange={newValue => this.setState({ value: newValue })}\n              onRequestSearch={() => this._search(this.state.value)}\n              onCancelSearch={() => this.setState({ value: null, border: null, errorMessage: null })}\n            />\n          </div>\n        )}\n        <div\n          style={{\n            textAlign: \"left\",\n            padding: \"2em\"\n          }}\n        >\n          <div>\n            <Wiki\n              title={this.state.title}\n              about={this.state.wiki}\n              link={\n                \"https://en.wikipedia-on-ipfs.org/wiki/\" +\n                this.state.title +\n                \".html\"\n              }\n            />\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          <a\n            style={{ padding: \"0.75em\" }}\n            href=\"https://en.wikipedia-on-ipfs.org/\"\n          >\n            IPFS Wiki\n          </a>\n          <a\n            style={{ padding: \"0.75em\" }}\n            href=\"https://github.com/Lucas-Kohorst/ipfs-wiki\"\n          >\n            Code\n          </a>\n          <a\n            style={{ padding: \"0.75em\" }}\n            href=\"mailto: kohorstlucas@gmail.com\"\n          >\n            Contact\n          </a>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport { Home };\n"]},"metadata":{},"sourceType":"module"}